{% extends 'base.html' %}

{% block content %}
<style>
    .success-icon {
        font-size: 5rem;
        color: #198754; /* Kolor sukcesu z Bootstrapa */
    }
    .order-number-box {
        background-color: #f8f9fa;
        border: 2px dashed #dee2e6;
        padding: 1rem;
        font-size: 1.25rem;
        font-weight: bold;
        letter-spacing: 2px;
    }
</style>

<div class="container my-5">
    <div class="row">
        <div class="col-md-8 offset-md-2 text-center">
            
            <div class="card p-4 p-md-5">
                <div class="card-body">
                    <div class="success-icon mb-3">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h1 class="h2">Dziękujemy za Twoje zamówienie!</h1>
                    <p class="lead text-muted">Twoja płatność została pomyślnie przetworzona.</p>

                    <hr class="my-4">

                    {% if order %}
                        <p>Twoje zamówienie otrzymało numer:</p>
                        <div class="order-number-box my-3">
                            {{ order.order_number }}
                        </div>
                        <p class="small text-muted">Pełne potwierdzenie wraz ze szczegółami wysłaliśmy na Twój adres e-mail: <strong>{{ order.email }}</strong>.</p>
                    
                        <div class="text-start mt-4">
                            <h5>Adres dostawy:</h5>
                            <div class="p-3 bg-light rounded">
                                <pre style="font-family: inherit; font-size: 0.9rem; margin: 0; white-space: pre-wrap;">{{ order.shipping_address }}</pre>
                            </div>
                        </div>
                    {% else %}
                        <p class="text-muted">Pełne potwierdzenie zamówienia wysłaliśmy na Twój adres e-mail.</p>
                    {% endif %}

                    <div class="text-start mt-4">
                        <h5>Co dalej?</h5>
                        <ul class="list-unstyled text-muted">
                            <li><i class="fas fa-box-open me-2"></i>Skompletujemy Twoje zamówienie.</li>
                            <li><i class="fas fa-truck me-2"></i>Otrzymasz od nas kolejny e-mail, gdy paczka zostanie wysłana.</li>
                        </ul>
                    </div>

                    <hr class="my-4">

                    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                        <a href="{% url 'home' %}" class="btn btn-primary">Kontynuuj zakupy</a>
                        {% if user.is_authenticated %}
                            <a href="{% url 'order_history' %}" class="btn btn-primary">Zobacz historię zamówień</a>
                        {% else %}
                            <a href="{% url 'register' %}" class="btn btn-primary">Załóż konto, aby śledzić zamówienia</a>
                        {% endif %}
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
{% endblock %}